import{r,j as e,N as l}from"./index-DCHaXG1F.js";import{a as n}from"./index-R-lXtGyY.js";import{S as a}from"./sweetalert2.esm.all-NNS-RXd7.js";function b(){const[s,i]=r.useState([]),[m,p]=r.useState([]);r.useEffect(()=>{n.get("https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/kategori").then(t=>{console.log(t.data),i(t.data)}).catch(t=>{console.error("Failed to fetch kategori",t)})},[]);const c=(t,d)=>{a.fire({title:"Are you sure?",text:`You won't be able to revert this!! Kategori ${d} `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(x=>{x.isConfirmed&&n.delete(`https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/kategori/${t}`).then(o=>{i(s.filter(h=>h.id!==t)),a.fire("Deleted!!","Your data has been deleted.","success")}).catch(o=>{console.error("Error Deleting Data :",o),a.fire("Error!","There was an issue while deleting the data.","error")})})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center md:text-left",children:"List Kategori"}),e.jsx("div",{className:"flex justify-center md:justify-start mb-6",children:e.jsx(l,{to:"/kategori/create",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Tambah Kategori"})}),e.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg bg-white",children:e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-700",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-800 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 w-1/2",children:"Nama Kategori"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Aksi"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3",children:t.nama}),e.jsxs("td",{className:"px-4 py-3 text-center",children:[e.jsx("button",{onClick:()=>c(t.id,t.nama),className:"bg-red-500 hover:bg-red-600 text-white font-medium px-3 py-1 rounded-md mr-2 transition",children:"Hapus"}),e.jsx(l,{to:`edit/${t.id}`,className:"bg-yellow-400 hover:bg-yellow-500 text-white font-medium px-3 py-1 rounded-md transition",children:"Edit"})]})]},t.id))})]})}),e.jsxs("footer",{className:"mt-10 text-center text-gray-500 text-sm",children:["Â© ",new Date().getFullYear()," Benn"]})]})}export{b as default};
