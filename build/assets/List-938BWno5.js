import{r as n,j as e,N as o}from"./index-DCHaXG1F.js";import{a as d}from"./index-R-lXtGyY.js";import{S as r}from"./sweetalert2.esm.all-NNS-RXd7.js";function b(){const[s,a]=n.useState([]);n.useEffect(()=>{d.get("https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/produk").then(t=>{console.log(t.data),a(t.data)})},[]);const l=(t,c)=>{r.fire({title:"Are you sure?",text:`You won't be able to revert this!! Produk ${c} `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(h=>{h.isConfirmed&&d.delete(`https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/produk/${t}`).then(i=>{a(s.filter(u=>u.id!==t)),r.fire("Deleted!!","Your data has been deleted.","success")}).catch(i=>{console.error("Error Deleting Data :",i),r.fire("Error!","There was an issue while deleting the data.","error")})})};return e.jsxs("div",{children:[e.jsx("h2",{children:"List Produk"}),e.jsx(o,{to:"/produk/create",className:"btn btn-primary",children:"Tambah Produk"}),e.jsxs("table",{className:"table table-bordered border-primary",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" Nama Produk "}),e.jsx("th",{children:" Aksi "})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.nama})," ",e.jsxs("td",{children:[e.jsx("button",{onClick:()=>l(t.id,t.nama),className:"btn btn-danger",children:"Hapus"}),e.jsx(o,{to:`edit/${t.id}`,className:"btn btn-warning ms-2",children:"Edit"})]})]},t.id))})]})]})}export{b as default};
