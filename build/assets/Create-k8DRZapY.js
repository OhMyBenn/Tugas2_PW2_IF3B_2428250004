import{r as s,j as e}from"./index-C3PDlDE6.js";import{a as h}from"./index-R-lXtGyY.js";function j(){const[o,i]=s.useState(""),[c,n]=s.useState(""),[l,d]=s.useState(""),[k,x]=s.useState([]),[u,t]=s.useState(""),[m,p]=s.useState("");s.useEffect(()=>{(async()=>{try{const r=await h.get("https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/kategori");x(r.data)}catch{console.error("Failed to fetch kategori")}})()},[]);const b=async a=>{if(a.preventDefault(),t(""),p(""),o.trim()===""||l.trim()===""){t("Nama Produk and Kategori is required");return}try{(await h.post("https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/produk",{nama:o,kode:c,kategori_id:l})).status===201?(p("Produk created successfully!"),i(""),n(""),d("")):t("Failed to tambah produk")}catch{t("An error occurred while tambah produk")}};return e.jsxs("div",{className:"container mt-5",children:[e.jsx("h2",{className:"mb-4",children:"Tambah Produk"}),u&&e.jsx("div",{className:"alert alert-danger",children:u}),m&&e.jsx("div",{className:"alert alert-success",children:m}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nama Produk"}),e.jsx("input",{type:"text",className:"form-control",id:"namaProduk",value:o,onChange:a=>i(a.target.value),placeholder:"Masukkan nama produk"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Kode Produk"}),e.jsx("input",{type:"text",className:"form-control",id:"kodeProduk",value:c,onChange:a=>n(a.target.value),placeholder:"Masukkan kode produk"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Kategori"}),e.jsxs("select",{className:"form-select",id:"kategoriId",value:l,onChange:a=>d(a.target.value),children:[e.jsx("option",{value:"",children:"Pilih Kategori"}),k.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Tambah"})]})]})}export{j as default};
