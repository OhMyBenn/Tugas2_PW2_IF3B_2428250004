import{r,j as e,N as n}from"./index-C3PDlDE6.js";import{a as l}from"./index-R-lXtGyY.js";import{S as a}from"./sweetalert2.esm.all-NNS-RXd7.js";function f(){const[s,i]=r.useState([]),[p,u]=r.useState([]);r.useEffect(()=>{l.get("https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/kategori").then(t=>{console.log(t.data),i(t.data)}).catch(t=>{console.error("Failed to fetch kategori",t)})},[]);const c=(t,d)=>{a.fire({title:"Are you sure?",text:`You won't be able to revert this!! Kategori ${d} `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(h=>{h.isConfirmed&&l.delete(`https://tugas1-pw2-if3b-2428250004.vercel.app/api/api/kategori/${t}`).then(o=>{i(s.filter(m=>m.id!==t)),a.fire("Deleted!!","Your data has been deleted.","success")}).catch(o=>{console.error("Error Deleting Data :",o),a.fire("Error!","There was an issue while deleting the data.","error")})})};return e.jsxs("div",{children:[e.jsx("h2",{children:"List Kategori"}),e.jsx(n,{to:"/kategori/create",className:"btn btn-primary",children:"Tambah Kategori"}),e.jsxs("table",{className:"table table-bordered border-primary",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" Nama Kategori "}),e.jsx("th",{children:" Aksi "})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.nama})," ",e.jsxs("td",{children:[e.jsx("button",{onClick:()=>c(t.id,t.nama),className:"btn btn-danger btn-sm",children:"Hapus"}),e.jsx(n,{to:`edit/${t.id}`,className:`btn btn-warning\r
                                ms-2`,children:"Edit"})]})]},t.id))})]})]})}export{f as default};
